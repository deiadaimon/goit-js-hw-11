{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createGalleryMarkup(array) {\n    return array\n        .map(({\n            webformatURL,\n            largeImageURL,\n            tags,\n            likes,\n            views,\n            comments,\n            downloads,\n        }) => `\n    <li class=\"gallery-card\">\n        <a class=\"card-link\" href=\"${largeImageURL}\">\n            <img class=\"image\" src=\"${webformatURL}\" alt=\"${tags}\"></a>\n        <ul class=\"card-description\">\n            <li><p class=\"name\">Likes</p>\n            <p class=\"value\">${likes}</p></liss=>\n            <li><p class=\"name\">Views</p>\n            <p class=\"value\">${views}</p></li>\n            <li><p class=\"name\">Comments</p>\n            <p class=\"value\">${comments}</p></li>\n            <li><p class=\"name\">Downloads</p>\n            <p class=\"value\">${downloads}</p></li>\n        </ul>\n    </li>\n    `)\n        .join('');\n}\n\n\n","export function fetchRequest(name) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const API_KEY = '43226276-a07a0c17e428cfffb021b9b05';\n\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: name,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n    return fetch(`${BASE_URL}?${params}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { createGalleryMarkup } from './js/render-functions';\nimport { fetchRequest } from './js/pixabay-api';\n\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nloader.style.display = 'none';\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    gallery.innerHTML = '';\n    loader.style.display = 'block';\n    const inputValue = event.currentTarget.elements.input.value;\n\n    fetchRequest(inputValue)\n        .then(data => {\n            loader.style.display = 'none';\n            if (!data.hits.length) {\n                iziToast.error({\n                    message:\n                        'Sorry, there are no images matching your search query. Please, try again!',\n                    messageColor: '#fafafb',\n                    messageSize: '16px',\n                    messageLineHeight: '1.5',\n                    backgroundColor: '#ef4040',\n                    position: 'topRight',\n                });\n            }\n\n            return data;\n        })\n\n        .then(data => {\n            gallery.innerHTML = ('beforeend', createGalleryMarkup(data.hits));\n\n            const lightbox = new SimpleLightbox('.gallery a', {\n                captions: true,\n                captionsData: 'alt',\n                captionDelay: 250,\n            });\n\n            lightbox.refresh();\n            form.reset();\n        })\n\n        .catch(error => {\n            loader.style.display = 'none';\n            iziToast.error({\n                message:\n                    'Sorry, there are no images matching your search query. Please, try again!',\n                messageColor: '#fafafb',\n                messageSize: '16px',\n                messageLineHeight: '1.5',\n                backgroundColor: '#ef4040',\n                position: 'topRight',\n            });\n        });\n}"],"names":["createGalleryMarkup","array","webformatURL","largeImageURL","tags","likes","views","comments","downloads","fetchRequest","name","BASE_URL","API_KEY","params","response","form","loader","gallery","handleSubmit","event","inputValue","data","iziToast","SimpleLightbox","error"],"mappings":"6vBAAO,SAASA,EAAoBC,EAAO,CACvC,OAAOA,EACF,IAAI,CAAC,CACF,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACZ,IAAc;AAAA;AAAA,qCAEuBL,CAAa;AAAA,sCACZD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,+BAGjCC,CAAK;AAAA;AAAA,+BAELC,CAAK;AAAA;AAAA,+BAELC,CAAQ;AAAA;AAAA,+BAERC,CAAS;AAAA;AAAA;AAAA,KAGnC,EACI,KAAK,EAAE,CAChB,CC3BO,SAASC,EAAaC,EAAM,CAC/B,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAC/B,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCVA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OACvB,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjDF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpBF,EAAQ,UAAY,GACpBD,EAAO,MAAM,QAAU,QACvB,MAAMI,EAAaD,EAAM,cAAc,SAAS,MAAM,MAEtDV,EAAaW,CAAU,EAClB,KAAKC,IACFL,EAAO,MAAM,QAAU,OAClBK,EAAK,KAAK,QACXC,EAAS,MAAM,CACX,QACI,4EACJ,aAAc,UACd,YAAa,OACb,kBAAmB,MACnB,gBAAiB,UACjB,SAAU,UAC9B,CAAiB,EAGED,EACV,EAEA,KAAKA,GAAQ,CACVJ,EAAQ,UAA0BjB,EAAoBqB,EAAK,IAAI,EAE9C,IAAIE,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,aAAc,GAC9B,CAAa,EAEQ,QAAO,EAChBR,EAAK,MAAK,CACtB,CAAS,EAEA,MAAMS,GAAS,CACZR,EAAO,MAAM,QAAU,OACvBM,EAAS,MAAM,CACX,QACI,4EACJ,aAAc,UACd,YAAa,OACb,kBAAmB,MACnB,gBAAiB,UACjB,SAAU,UAC1B,CAAa,CACb,CAAS,CACT"}